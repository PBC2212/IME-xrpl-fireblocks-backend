# XRPL Configuration (EXISTING - KEEP AS IS)
XRPL_ENDPOINT=wss://s.altnet.rippletest.net:51233
XRPL_ISSUER_ADDRESS=rHAyCgMybE1shtdGEfpoGKMZV81Ef8vnwv
XRPL_ISSUER_SECRET=sEd77mSNYHXx7YeaV1ZdpWA9q5WWUpZ

# Liquidity Integration with Project 2 (EXISTING - KEEP AS IS)
LIQUIDITY_INTEGRATION_ENABLED=true
LIQUIDITY_ENGINE_URL=http://localhost:4000
LIQUIDITY_ENGINE_API_KEY=tokenization-platform-key

# Shared Communication (EXISTING - KEEP AS IS)
SHARED_DATABASE_URL=postgresql://username:password@localhost:5432/ime_ecosystem

# Platform Configuration (EXISTING - KEEP AS IS)
PLATFORM_BASE_URL=http://localhost:3000

# Logging Level (EXISTING - KEEP AS IS)
LOG_LEVEL=info

# ===========================================
# NEW: CIRCLE API LIQUIDITY INTEGRATION
# ===========================================
CIRCLE_API_BASE_URL=https://api-sandbox.circle.com
CIRCLE_API_KEY=your_circle_api_key_here
CIRCLE_ENTITY_SECRET=your_circle_entity_secret_here
CIRCLE_PUBLIC_KEY=your_circle_public_key_here
CIRCLE_ENVIRONMENT=sandbox

# ===========================================
# NEW: ENHANCED LIQUIDITY SERVICE CONFIG
# ===========================================
# Instant Liquidity Settings
INSTANT_LIQUIDITY_ENABLED=true
INSTANT_LIQUIDITY_MAX_AMOUNT=100000
INSTANT_LIQUIDITY_MIN_AMOUNT=100
INSTANT_LIQUIDITY_PROCESSING_TIME_SECONDS=120

# Integration with existing liquidity engine
LEGACY_LIQUIDITY_ENGINE_FALLBACK=true
CIRCLE_PRIMARY_LIQUIDITY_PROVIDER=true

# Asset-Backed Liquidity Ratios (LTV)
ASSET_REAL_ESTATE_LTV=0.70
ASSET_VEHICLE_LTV=0.80
ASSET_PRECIOUS_METALS_LTV=0.90
ASSET_BONDS_LTV=0.95
ASSET_STOCKS_LTV=0.85
ASSET_COMMODITIES_LTV=0.75

# ===========================================
# NEW: XRPL-SPECIFIC LIQUIDITY CONFIG
# ===========================================
# Use existing XRPL connection for liquidity transactions
LIQUIDITY_USE_XRPL_ISSUER=true
LIQUIDITY_XRPL_DESTINATION_TAG=12345
USDC_ISSUER_ADDRESS=rN7n7otQDd6FczFgLdSqtcsAUxDkw6fzRH
USDC_CURRENCY_CODE=USD

# Trust line management for liquidity tokens
AUTO_CREATE_TRUSTLINES=true
TRUSTLINE_LIMIT_USDC=1000000

# ===========================================
# NEW: RWA TOKEN LIQUIDITY MAPPING
# ===========================================
# Map your existing RWA tokens to liquidity providers
RWA_TOKEN_LIQUIDITY_MAPPING=true
DEFAULT_RWA_LIQUIDITY_PROVIDER=circle
BACKUP_RWA_LIQUIDITY_PROVIDER=legacy_engine

# Risk Assessment
RISK_SCORE_THRESHOLD=0.8
KYC_REQUIRED_FOR_INSTANT_LIQUIDITY=true
ASSET_VERIFICATION_REQUIRED=true

# ===========================================
# NEW: DATABASE LIQUIDITY CACHING
# ===========================================
# Use existing PostgreSQL for liquidity position storage
LIQUIDITY_POSITION_CACHE_TTL_HOURS=1
LIQUIDITY_RATE_CACHE_TTL_MINUTES=5

# ===========================================
# NEW: WEBHOOK & NOTIFICATION CONFIG
# ===========================================
CIRCLE_WEBHOOK_ENDPOINT=/api/webhooks/circle
CIRCLE_WEBHOOK_SECRET=your_webhook_secret_here
LIQUIDITY_NOTIFICATIONS_ENABLED=true

# ===========================================
# NEW: MULTI-PROVIDER FALLBACK CHAIN
# ===========================================
# Primary: Circle (instant)
# Secondary: Your existing liquidity engine
# Tertiary: Anchorage/Maple (future)

FALLBACK_PROVIDER_1=circle
FALLBACK_PROVIDER_2=legacy_engine
FALLBACK_PROVIDER_3_ENABLED=false

# Provider-specific timeouts
CIRCLE_API_TIMEOUT_MS=30000
LEGACY_ENGINE_TIMEOUT_MS=60000

# ===========================================
# NEW: DEVELOPMENT & TESTING
# ===========================================
LIQUIDITY_TEST_MODE=true
MOCK_CIRCLE_RESPONSES=false
TEST_RWA_TOKEN_ID=test_token_001
TEST_USER_WALLET=rN7n7otQDd6FczFgLdSqtcsAUxDkw6fzRH

# Skip KYC in development
SKIP_KYC_IN_DEVELOPMENT=true

# ===========================================
# NEW: MONITORING & METRICS
# ===========================================
LIQUIDITY_METRICS_ENABLED=true
LIQUIDITY_HEALTH_CHECK_INTERVAL_MS=30000
POSITION_MONITORING_ENABLED=true

# Integration with your existing logging
LIQUIDITY_LOG_LEVEL=info
LOG_LIQUIDITY_TRANSACTIONS=true

# ===========================================
# NEW: SECURITY & ENCRYPTION
# ===========================================
LIQUIDITY_ENCRYPTION_KEY=your_32_char_key_here_change_me
POSITION_DATA_ENCRYPTION=true

# Rate limiting for liquidity endpoints
LIQUIDITY_RATE_LIMIT_REQUESTS=20
LIQUIDITY_RATE_LIMIT_WINDOW_MINUTES=1

# ===========================================
# PRODUCTION OVERRIDES (COMMENTED FOR DEV)
# ===========================================
# Uncomment and configure for production deployment
# CIRCLE_API_BASE_URL=https://api.circle.com
# CIRCLE_ENVIRONMENT=production
# LIQUIDITY_TEST_MODE=false
# SKIP_KYC_IN_DEVELOPMENT=false
# MOCK_CIRCLE_RESPONSES=false